<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript 的疑难杂症</title>
     <style>
       div{
           width: 500px;
           height: 500px;
           background-color:cornflowerblue;
           border: 1px solid rgb(0, 26, 255);
           margin: auto;
           text-align: center;
           align-items: center;
       }
       h2{
           color: white;
           vertical-align: middle;
           font-size: 40px;
           font-family:monospace
       }
       body{
           margin: 100px;
       }
   </style>
  </head>
  <body>
     <div onmousemove="showCounts()">
        <h2 id="nCnt">常规计次: 0</h2>
        <h2 id="tCnt">节流计次: 0</h2>
        <h2 id="dCnt">防抖计次: 0</h2>
    </div>
    <script >
        let nCnt=0;
        let tCnt=0;
        let dCnt=0;
        let nh2 = document.getElementById("nCnt")
        let th2 = document.getElementById("tCnt")
        let dh2 = document.getElementById("dCnt")
        let fireThrottle = true;
        let dTimer;
        function showCounts(){
            normalCount();
            throttleCount();
            debounceCount();
        }

        //常规计次:
        function normalCount(){
            nCnt++;
            nh2.innerHTML ="常规计次:" + nCnt;
        }

        //节流计次:
        function throttleCount(){
            if(fireThrottle === true){
            tCnt++;
            th2.innerHTML ="节流计次:" + tCnt;
            fireThrottle =false;
            setTimeout(() => {
                fireThrottle = true;
            }, 500);
            }

        }

        //防抖计次
        function debounceCount(){
            clearTimeout(dTimer);
           dTimer = setTimeout(() => {
            dCnt++;
            dh2.innerHTML ="防抖计次:" + dCnt;
            }, 1000);
        }
    </script>
  </body>
</html
